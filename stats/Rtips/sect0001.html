<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="shortcut icon" href="icons/pyfav.png" type="image/png" />
<link href="index.html" title="Rの利用に関する備忘録" rel="start" />
<link href="index.html" title="Rの利用に関する備忘録" rel="first" />
<link href="index.html" rel="contents" title="Contents" />
<link rel="index" title="Index" />
<link href="sect0002.html" rel="next" />
<link href="index.html" rel="prev" />
<link href="index.html" rel="parent" />
<meta name="aesop" content="information" />
<title>1 デフォルトの関数</title>
</head>
<body>
<div class="navigation">
<div id="top-navigation-panel" xml:id="top-navigation-panel">
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class="online-navigation"><a title="Rの利用に関する備忘録" href="index.html" rel="prev"><img src="icons/previous.png" border="0" height="32" alt="Previous Page" width="32" /></a></td>
<td class="online-navigation"><a title="Rの利用に関する備忘録" href="index.html" rel="parent"><img src="icons/up.png" border="0" height="32" alt="Up One Level" width="32" /></a></td>
<td class="online-navigation"><a title="psych" href="sect0002.html" rel="next"><img src="icons/next.png" border="0" height="32" alt="Next Page" width="32" /></a></td>
<td align="center" width="100%">Rの利用に関する備忘録</td>
<td class="online-navigation"><a href="index.html" rel="contents" title="Table of Contents"><img src="icons/contents.png" border="0" height="32" alt="Contents" width="32" /></a></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" alt="" width="32" /></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" width="32" /></td>
</tr></table>
<div class="online-navigation">
<span><b class="navlabel">Previous:</b>
<a href="index.html" class="sectref" rel="prev">Rの利用に関する備忘録</a></span>
<span><b class="navlabel">Up:</b>
<a href="index.html" class="sectref" rel="parent">Rの利用に関する備忘録</a></span>
<span><b class="navlabel">Next:</b>
<a href="sect0002.html" class="sectref" rel="next">psych</a></span>
</div>
<hr /></div>
</div>



<div><h1 id="a0000000002">1 デフォルトの関数</h1>
<h2 id="a0000000006">1.1 <tt class="ttfamily">rbind()</tt> によるデータフレームの合併</h2>
<p>共通の変数と個別の変数を含むデータフレーム <tt class="ttfamily">data01, data02, data03</tt> から、共通の変数部分を抜き出して縦につなげて1つのデータセット <tt class="ttfamily">data04</tt> を作りたいとする。 </p><p>これらに共通の変数名が <tt class="ttfamily">idnames, fsnames, bsnames, scnames</tt> に格納されているとすると、 </p><blockquote class="quote"> <pre>
data04 &lt;- rbind(data01[,c(idnames,fsnames,bsnames,scnames)],
                data02[,c(idnames,fsnames,bsnames,scnames)],
                data03[,c(idnames,fsnames,bsnames,scnames)])
</pre> </blockquote><p> でよい。 <tt class="ttfamily">merge()</tt> を使ったり、変数名の指定に <tt class="ttfamily">data01[,which(colnames(data01) %in% c(idnames, fsnames))]</tt> などとしたくなるのだが、これだとうまくいかない。 </p><h2 id="a0000000007">1.2 <tt class="ttfamily">subset()</tt></h2>
<p>データフレームのうち条件を満たす行を抜き出す。 </p><h4 id="a0000000008">使用例</h4>
<p> 今、<tt class="ttfamily">data01</tt> の変数 <tt class="ttfamily">position</tt> について、値 <tt class="ttfamily">"1"</tt> か <tt class="ttfamily">"2"</tt> を取る行のみを抜き出したいとする。 このとき、 </p><blockquote class="quote"> <pre>
data01 &lt;- subset(data01, position=="1"|position=="2")
</pre> </blockquote><p> とすればよい。 なお、 </p><blockquote class="quote"> <pre>
attach(data01)
data01 &lt;- data01[(position=="1")|(position=="2"),]
detach(data01)
</pre> </blockquote><p> としても同じことができる気がするのだが、うまくいかない（他の変数に謎の <tt class="ttfamily">NA</tt> が発生する）。 </p><h2 id="a0000000009">1.3 <tt class="ttfamily">boxplot()</tt></h2>
<p>箱ひげ図の描画。上から順に、上限の極値（ヒゲ）、上側四分位数、中央値、下側四分位数、下限の極値（ヒゲ）が描画される。 上下のヒゲは、それぞれ </p><table id="a0000000010" class="eqnarray" cellspacing="0" cellpadding="7" width="100%">
<tr id="a0000000011">
    
    <td style="width:40%">&nbsp;</td>
    
    
        <td style="vertical-align:middle; 
                                  text-align:right"><img src="images/img-0001.png" alt="$\displaystyle  \textit{whisker}  $" style="vertical-align:0px; width:54px; 
                   height:11px" class="math gen" /></td>
    
    
    
        <td style="vertical-align:middle; 
                                  text-align:left"><img src="images/img-0002.png" alt="$\displaystyle = \textit{median} \pm 1.5 \times (\text {3rd hinge} - \text {1st hinge})  $" style="vertical-align:-4px; width:295px; 
                   height:18px" class="math gen" /></td>
    
    
    
    <td style="width:40%">&nbsp;</td>
    <td class="eqnnum" style="width:20%"><span>(<span>1.1</span>)</span></td>
</tr><tr id="a0000000012">
    
    <td style="width:40%">&nbsp;</td>
    
    
        <td style="vertical-align:middle; 
                                  text-align:right"><img src="images/img-0003.png" alt="$\displaystyle  $" style="vertical-align:0px; width:1px; 
                   height:1px" class="math gen" /></td>
    
    
    
        <td style="vertical-align:middle; 
                                  text-align:left"><img src="images/img-0004.png" alt="$\displaystyle \approx \textit{median} \pm 1.5 \times (\text {3rd quartile} - \text {1st quartile})  $" style="vertical-align:-4px; width:330px; 
                   height:18px" class="math gen" /></td>
    
    
    
    <td style="width:40%">&nbsp;</td>
    <td class="eqnnum" style="width:20%"><span>(<span>1.2</span>)</span></td>
</tr><tr id="a0000000013">
    
    <td style="width:40%">&nbsp;</td>
    
    
        <td style="vertical-align:middle; 
                                  text-align:right"><img src="images/img-0003.png" alt="$\displaystyle  $" style="vertical-align:0px; width:1px; 
                   height:1px" class="math gen" /></td>
    
    
    
        <td style="vertical-align:middle; 
                                  text-align:left"><img src="images/img-0005.png" alt="$\displaystyle = \textit{median} \pm 1.5 \times \textit{interquartile range}  $" style="vertical-align:-3px; width:263px; 
                   height:16px" class="math gen" /></td>
    
    
    
    <td style="width:40%">&nbsp;</td>
    <td class="eqnnum" style="width:20%"><span>(<span>1.3</span>)</span></td>
</tr>
</table><p> である。 これより極端な値は外れ値としてプロットされる。 </p></div>



<div class="navigation">
<div class="online-navigation">
<hr />
<table align="center" width="100%" cellpadding="0" cellspacing="2">
<tr>
<td class="online-navigation"><a title="Rの利用に関する備忘録" href="index.html" rel="prev"><img src="icons/previous.png" border="0" height="32" alt="Previous Page" width="32" /></a></td>
<td class="online-navigation"><a title="Rの利用に関する備忘録" href="index.html" rel="parent"><img src="icons/up.png" border="0" height="32" alt="Up One Level" width="32" /></a></td>
<td class="online-navigation"><a title="psych" href="sect0002.html" rel="next"><img src="icons/next.png" border="0" height="32" alt="Next Page" width="32" /></a></td>
<td align="center" width="100%">Rの利用に関する備忘録</td>
<td class="online-navigation"><a href="index.html" rel="contents" title="Table of Contents"><img src="icons/contents.png" border="0" height="32" alt="Contents" width="32" /></a></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" alt="" width="32" /></td>
<td class="online-navigation"><img src="icons/blank.png" border="0" height="32" width="32" /></td>
</tr></table>
<div class="online-navigation">
<span><b class="navlabel">Previous:</b>
<a href="index.html" class="sectref" rel="prev">Rの利用に関する備忘録</a></span>
<span><b class="navlabel">Up:</b>
<a href="index.html" class="sectref" rel="parent">Rの利用に関する備忘録</a></span>
<span><b class="navlabel">Next:</b>
<a href="sect0002.html" class="sectref" rel="next">psych</a></span>
</div>
</div>
<hr />
<!--
<span class="release-info">Release 2.4.3, documentation updated on 29 March 2006.</span>
-->
</div>
<!--End of Navigation Panel-->
<!--
<address>
See <i><a href="about.html">About this document...</a></i> for information on suggesting changes.
</address>
-->
</body>
</html>